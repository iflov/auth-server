# ===========================
# Docker Environment Configuration
# ===========================
NODE_ENV=development
LOG_LEVEL=debug

# ===========================
# Database Configuration (Docker Network)
# ===========================
DATABASE_TYPE=postgresql
POSTGRES_HOST=postgres  # Docker 컨테이너 간 통신용 호스트명
POSTGRES_PORT=5432
POSTGRES_DB=mcp_poc
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres  # Production에서는 반드시 변경!
POSTGRES_INITDB_ARGS=--encoding=UTF-8

# Connection Pool Settings (Optional)
POSTGRES_POOL_SIZE=10
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=2000
POSTGRES_SSL=false

# Connection URL for migrations (Drizzle Kit)
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/mcp_poc

# ===========================
# OAuth Server Configuration
# ===========================
AUTH_SERVER_HOST=auth-server
AUTH_SERVER_PORT=3001
AUTH_SERVER_URL=http://auth-server:3001
API_PREFIX=api

# ===========================
# MCP Server Configuration
# ===========================
MCP_SERVER_HOST=localhost
MCP_SERVER_PORT=3000
MCP_SERVER_URL=http://localhost:3000

# ===========================
# CORS Configuration
# ===========================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ===========================
# Security Configuration
# ===========================
# JWT 서명용 비밀키 (최소 32자 이상 필수!)
JWT_SECRET=your-jwt-secret-must-be-at-least-32-characters
JWT_ALGORITHM=HS256
# OAuth 토큰 만료 시간 (초 단위)
OAUTH_TOKEN_EXPIRY=3600        # 1시간
OAUTH_REFRESH_TOKEN_EXPIRY=604800  # 7일
OAUTH_CODE_EXPIRY=600          # 10분

# Encryption & Hashing (Optional - for enhanced security)
# 암호화키는 정확히 32자여야 함
ENCRYPTION_KEY=your-encryption-key-exactly-32ch
# bcrypt 해싱 라운드 (8-20 사이)
HASH_ROUNDS=10
# 세션 비밀키 (최소 32자 이상 필수!)
SESSION_SECRET=your-session-secret-must-be-at-least-32-chars
# 세션 최대 유지 시간 (밀리초)
SESSION_MAX_AGE=86400000       # 24시간

# ===========================
# Optional Advanced Configuration
# ===========================
# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging Format
LOG_FORMAT=json

# Redis Configuration (for caching/sessions - optional)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# Email Configuration (for notifications - optional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# EMAIL_FROM=noreply@example.com